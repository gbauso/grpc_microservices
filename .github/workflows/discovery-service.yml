name: Discovery Master

on:
  push:
    paths:
      - .github/workflows/discovery-service.yml
      - discovery-service/**
      - discovery-service/grpc_gen/**
defaults:
 run:
  working-directory: ./discovery-service      

jobs:
  push_to_registry:
    runs-on: ubuntu-latest
    steps:
     - uses: actions/checkout@v3
       with:
        submodules: true
     - uses: actions/setup-go@v3
       with:
        go-version: 1.18.x
     - name: test_code
       run: go test -v ./...
     

